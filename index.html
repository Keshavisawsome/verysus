<!DOCTYPE html>
<html>
<head>
<title>Info</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial;
  background:white;
  color:black;
  cursor:pointer;
  text-align:center;
  transition:.4s;
  padding:20px;
  box-sizing:border-box;
}
#box{
  width:100%;
  max-width:600px;
  word-wrap:break-word;
}
h1{ font-size:clamp(24px,5vw,40px); }
p{ font-size:clamp(14px,2.5vw,18px); }
#map{
  margin-top:15px;
  border:0;
  width:100%;
  height:300px;
  border-radius:10px;
}
</style>
</head>
<body onclick="start()">

<div id="box">
<h1>Click to continue</h1>
</div>

<script>
async function start(){

const box=document.getElementById("box");

document.body.onclick=null;
document.body.style.background="black";
document.body.style.color="red";
box.innerHTML="<h2>Loading...</h2>";

let ipv4="Unavailable";
let ipv6="Unavailable";

try{
let r=await fetch("https://api.ipify.org?format=json");
ipv4=(await r.json()).ip;
}catch{}

try{
let r=await fetch("https://api64.ipify.org?format=json");
ipv6=(await r.json()).ip;
}catch{}

let data={};
try{
let r=await fetch("https://ipapi.co/json/");
data=await r.json();
}catch{}

let lat=data.latitude||0;
let lon=data.longitude||0;

let device=navigator.userAgent;
let platform=navigator.platform;
let language=navigator.language;
let screenSize=`${screen.width} x ${screen.height}`;
let timezone=Intl.DateTimeFormat().resolvedOptions().timeZone;
let ram = navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Unknown";

// Clear loading text
box.innerHTML="";

let lines=[
`<h1>Haha got ya</h1>`,

`<p><b>Ur IPv4 address is:</b> ${ipv4}</p>`,
`<p><b>Ur IPv6 address is:</b> ${ipv6}</p>`,

`<hr>`,

`<p><b>City:</b> ${data.city||"?"}</p>`,
`<p><b>Region:</b> ${data.region||"?"}</p>`,
`<p><b>Country:</b> ${data.country_name||"?"}</p>`,
`<p><b>Coords:</b> ${lat}, ${lon}</p>`,
`<p><b>ISP:</b> ${data.org||"?"}</p>`,

`<hr>`,

`<h3>Device Info</h3>`,
`<p><b>Platform:</b> ${platform}</p>`,
`<p><b>Browser:</b> ${device}</p>`,
`<p><b>Language:</b> ${language}</p>`,
`<p><b>Screen:</b> ${screenSize}</p>`,
`<p><b>Timezone:</b> ${timezone}</p>`,
`<p><b>RAM:</b> ${ram}</p>`
];

lines.forEach((line,i)=>{
setTimeout(()=>{
box.innerHTML+=line;
}, i*250);
});

}
// function sendToSheet(ipv4, ipv6, city, state, lat, lon){
//   fetch("https://script.google.com/macros/s/AKfycbzoncva9T-kcbvaO39rGC-v8sgHG6LgaaIfPyQdl3VD_8Y8p8wt3YhTIjQHoB4JjML8/exec", {
//     method: "POST",
//     headers: { "Content-Type": "application/json" },
//     body: JSON.stringify({ ipv4, ipv6, city, state, lat, lon })
//   })
//   .then(res => res.text())
//   .then(data => console.log("Sent:", data))
//   .catch(err => console.error("Error:", err));
// }
</script>

</body>
</html>

















<!-- <!DOCTYPE html>
<html>
<head>
  <title>Finder</title>
  <style>
    body {
      margin: 0;
      background: white;
      color: black;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
      cursor: pointer;
      transition: 0.5s;
    }
  </style>
</head>
<body onclick="start()">

  <div id="content">
    <h1>Click to find location/IP</h1>
  </div>

<script>
function start() {
  document.body.onclick = null;
  document.getElementById("content").innerHTML = "<h1>Requesting permission...</h1>";

  getIP();
  getLocation();
}

let ipv4 = "Loading...";
let ipv6 = "Loading...";

function getIP() {
  fetch("https://api.ipify.org?format=json")
    .then(res => res.json())
    .then(data => {
      ipv4 = data.ip;
      updateIP();
    })
    .catch(() => { ipv4 = "Unavailable"; });

  fetch("https://api64.ipify.org?format=json")
    .then(res => res.json())
    .then(data => {
      ipv6 = data.ip;
      updateIP();
    })
    .catch(() => { ipv6 = "Unavailable"; });
}

function updateIP(){
  if(document.getElementById("ipv4"))
    document.getElementById("ipv4").textContent = ipv4;
  if(document.getElementById("ipv6"))
    document.getElementById("ipv6").textContent = ipv6;
}

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(async pos => {
      let lat = pos.coords.latitude;
      let lon = pos.coords.longitude;

      try {
        let res = await fetch(
          `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`
        );
        let data = await res.json();

        let city =
          data.address.city ||
          data.address.town ||
          data.address.village ||
          "Unknown city";

        let state = data.address.state || "Unknown state";

        showResult(city, state, lat, lon);
        sendToSheet(city, state, lat, lon);

      } catch {
        showResult("Unknown","Unknown",lat,lon);
      }

    }, () => showResult("Permission denied","","",""));
  } else {
    showResult("Not supported","","","");
  }
}

function showResult(city, state, lat, lon) {
  document.body.style.background = "black";
  document.body.style.color = "red";
  document.body.style.cursor = "default";

  document.getElementById("content").innerHTML = `
    <h1>Your Info</h1>
    <p><strong>IPv4:</strong> <span id="ipv4">${ipv4}</span></p>
    <p><strong>IPv6:</strong> <span id="ipv6">${ipv6}</span></p>
    <p><strong>Location:</strong> ${city}${state ? ", " + state : ""}</p>
    <p><strong>Latitude:</strong> ${lat || "Unavailable"}</p>
    <p><strong>Longitude:</strong> ${lon || "Unavailable"}</p>
  `;
}

function sendToSheet(city, state, lat, lon){
  fetch("https://script.google.com/macros/s/AKfycbzoncva9T-kcbvaO39rGC-v8sgHG6LgaaIfPyQdl3VD_8Y8p8wt3YhTIjQHoB4JjML8/exec", {
    method: "POST",
    body: JSON.stringify({
      ipv4: ipv4,
      ipv6: ipv6,
      city: city,
      state: state,
      lat: lat,
      lon: lon
    }),
    headers: { "Content-Type": "application/json" }
  })
  .catch(console.error);
}
</script>

</body>
</html> -->
